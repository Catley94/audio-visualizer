"use strict";window.jscolor||(window.jscolor=function(){var n,r,e,t,w={register:function(){w.attachDOMReadyEvent(w.jscolor.init),w.attachEvent(document,"mousedown",w.onDocumentMouseDown),w.attachEvent(document,"touchstart",w.onDocumentTouchStart),w.attachEvent(document,"keyup",w.onDocumentKeyUp),w.attachEvent(window,"resize",w.onWindowResize)},tryInstallOnElements:function(e,t){for(var n,o,r=new RegExp("(^|\\s)("+t+")(\\s*(\\{[^}]*\\})|\\s|$)","i"),s=0;s<e.length;s+=1){if(void 0===e[s].type||"color"!=e[s].type.toLowerCase()||!w.isColorAttrSupported)if(!e[s].jscolor)if(null!==(o=w.getDataAttr(e[s],"jscolor"))||e[s].className&&(n=e[s].className.match(r))){var i=e[s],l=null;null!==o?l=o:n&&n[4]&&(l=n[4]);var a={};if(l)try{a=new Function("return ("+l+")")()}catch(e){w.warn("Error parsing jscolor options: "+e+":\n"+l)}i.jscolor=new w.jscolor(i,a)}}},isColorAttrSupported:!(!(t=document.createElement("input")).setAttribute||(t.setAttribute("type","color"),"color"!=t.type.toLowerCase())),isCanvasSupported:!(!(e=document.createElement("canvas")).getContext||!e.getContext("2d")),fetchElement:function(e){return"string"==typeof e?document.getElementById(e):e},isElementType:function(e,t){return e.nodeName.toLowerCase()===t.toLowerCase()},getDataAttr:function(e,t){var n="data-"+t,o=e.getAttribute(n);return null!==o?o:null},attachEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},detachEvent:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},_attachedGroupEvents:{},attachGroupEvent:function(e,t,n,o){w._attachedGroupEvents.hasOwnProperty(e)||(w._attachedGroupEvents[e]=[]),w._attachedGroupEvents[e].push([t,n,o]),w.attachEvent(t,n,o)},detachGroupEvents:function(e){if(w._attachedGroupEvents.hasOwnProperty(e)){for(var t=0;t<w._attachedGroupEvents[e].length;t+=1){var n=w._attachedGroupEvents[e][t];w.detachEvent(n[0],n[1],n[2])}delete w._attachedGroupEvents[e]}},attachDOMReadyEvent:function(e){function t(){o||(o=!0,e())}var n,o=!1;"complete"!==document.readyState?document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",arguments.callee),t())}),window.attachEvent("onload",t),document.documentElement.doScroll&&window==window.top&&(n=function(){if(document.body)try{document.documentElement.doScroll("left"),t()}catch(e){setTimeout(n,1)}})()):setTimeout(t,1)},warn:function(e){window.console&&window.console.warn&&window.console.warn(e)},preventDefault:function(e){e.preventDefault&&e.preventDefault(),e.returnValue=!1},captureTarget:function(e){e.setCapture&&(w._capturedTarget=e,w._capturedTarget.setCapture())},releaseTarget:function(){w._capturedTarget&&(w._capturedTarget.releaseCapture(),w._capturedTarget=null)},fireEvent:function(e,t){var n;e&&(document.createEvent?((n=document.createEvent("HTMLEvents")).initEvent(t,!0,!0),e.dispatchEvent(n)):document.createEventObject?(n=document.createEventObject(),e.fireEvent("on"+t,n)):e["on"+t]&&e["on"+t]())},classNameToList:function(e){return e.replace(/^\s+|\s+$/g,"").split(/\s+/)},hasClass:function(e,t){return!!t&&-1!=(" "+e.className.replace(/\s+/g," ")+" ").indexOf(" "+t+" ")},setClass:function(e,t){for(var n=w.classNameToList(t),o=0;o<n.length;o+=1)w.hasClass(e,n[o])||(e.className+=(e.className?" ":"")+n[o])},unsetClass:function(e,t){for(var n=w.classNameToList(t),o=0;o<n.length;o+=1){var r=new RegExp("^\\s*"+n[o]+"\\s*|\\s*"+n[o]+"\\s*$|\\s+"+n[o]+"(\\s+)","g");e.className=e.className.replace(r,"$1")}},getStyle:function(e){return window.getComputedStyle?window.getComputedStyle(e):e.currentStyle},setStyle:(n=document.createElement("div"),function(e,t,n){switch(t.toLowerCase()){case"opacity":var o=Math.round(100*parseFloat(n));e.style.opacity=n,e.style.filter="alpha(opacity="+o+")";break;default:e.style[r[t]]=n}}),setBorderRadius:function(e,t){w.setStyle(e,"borderRadius",t||"0")},setBoxShadow:function(e,t){w.setStyle(e,"boxShadow",t||"none")},getElementPos:function(e,t){var n,o=0,r=0,s=e.getBoundingClientRect(),o=s.left,r=s.top;return t||(o+=(n=w.getViewPos())[0],r+=n[1]),[o,r]},getElementSize:function(e){return[e.offsetWidth,e.offsetHeight]},getAbsPointerPos:function(e){var t=0,n=0;return void 0!==(e=e||window.event).changedTouches&&e.changedTouches.length?(t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY):"number"==typeof e.clientX&&(t=e.clientX,n=e.clientY),{x:t,y:n}},getRelPointerPos:function(e){var t=((e=e||window.event).target||e.srcElement).getBoundingClientRect(),n=0,o=0;return void 0!==e.changedTouches&&e.changedTouches.length?(n=e.changedTouches[0].clientX,o=e.changedTouches[0].clientY):"number"==typeof e.clientX&&(n=e.clientX,o=e.clientY),{x:n-t.left,y:o-t.top}},getViewPos:function(){var e=document.documentElement;return[(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0),(window.pageYOffset||e.scrollTop)-(e.clientTop||0)]},getViewSize:function(){var e=document.documentElement;return[window.innerWidth||e.clientWidth,window.innerHeight||e.clientHeight]},setOption:function(e,t){if(void 0===this[e])return w.warn("Unrecognized option '"+e+"'"),!1;this[e]=t},redrawPosition:function(){if(w.picker&&w.picker.owner){var e,t,n,o,r=w.picker.owner,s=r.fixed?(e=w.getElementPos(r.targetElement,!0),[0,0]):(e=w.getElementPos(r.targetElement),w.getViewPos()),i=w.getElementSize(r.targetElement),l=w.getViewSize(),a=w.getPickerOuterDims(r);switch(r.position.toLowerCase()){case"left":n=0,o=-(t=1);break;case"right":n=0,o=t=1;break;case"top":t=0,o=-(n=1);break;default:t=0,o=n=1}var d,c=(i[n]+a[n])/2,h=(d=r.smartPosition?[-s[t]+e[t]+a[t]>l[t]&&-s[t]+e[t]+i[t]/2>l[t]/2&&0<=e[t]+i[t]-a[t]?e[t]+i[t]-a[t]:e[t],-s[n]+e[n]+i[n]+a[n]-c+c*o>l[n]?-s[n]+e[n]+i[n]/2>l[n]/2&&0<=e[n]+i[n]-c-c*o?e[n]+i[n]-c-c*o:e[n]+i[n]-c+c*o:0<=e[n]+i[n]-c+c*o?e[n]+i[n]-c+c*o:e[n]+i[n]-c-c*o]:[e[t],e[n]+i[n]-c+c*o])[t],p=d[n],u=r.fixed?"fixed":"absolute",m=(d[0]+a[0]>e[0]||d[0]<e[0]+i[0])&&d[1]+a[1]<e[1]+i[1];w._drawPosition(r,h,p,u,m)}},_drawPosition:function(e,t,n,o,r){var s=r?0:e.shadowBlur;w.picker.wrap.style.position=o,w.picker.wrap.style.left=t+"px",w.picker.wrap.style.top=n+"px",w.setBoxShadow(w.picker.boxS,e.shadow?new w.BoxShadow(0,s,e.shadowBlur,0,e.shadowColor):null)},getPickerDims:function(e){var t=!!w.getSliderComponent(e);return[2*e.insetWidth+2*e.padding+e.width+(t?2*e.insetWidth+w.getPadToSliderPadding(e)+e.sliderSize:0),2*e.insetWidth+2*e.padding+e.height+(e.closable?2*e.insetWidth+e.padding+e.buttonHeight:0)]},getPickerOuterDims:function(e){var t=w.getPickerDims(e);return[t[0]+2*e.borderWidth,t[1]+2*e.borderWidth]},getPadToSliderPadding:function(e){return Math.max(e.padding,1.5*(2*e.pointerBorderWidth+e.pointerThickness))},getPadYComponent:function(e){switch(e.mode.charAt(1).toLowerCase()){case"v":return"v"}return"s"},getSliderComponent:function(e){if(2<e.mode.length)switch(e.mode.charAt(2).toLowerCase()){case"s":return"s";case"v":return"v"}return null},onDocumentMouseDown:function(e){var t=(e=e||window.event).target||e.srcElement;t._jscLinkedInstance?t._jscLinkedInstance.showOnClick&&t._jscLinkedInstance.show():t._jscControlName?w.onControlPointerStart(e,t,t._jscControlName,"mouse"):w.picker&&w.picker.owner&&w.picker.owner.hide()},onDocumentTouchStart:function(e){var t=(e=e||window.event).target||e.srcElement;t._jscLinkedInstance?t._jscLinkedInstance.showOnClick&&t._jscLinkedInstance.show():t._jscControlName?w.onControlPointerStart(e,t,t._jscControlName,"touch"):w.picker&&w.picker.owner&&w.picker.owner.hide()},onDocumentKeyUp:function(e){((e=e||window.event).code&&"Enter"===e.code||13===e.keyCode||e.code&&"Escape"===e.code||27===e.keyCode)&&w.picker&&w.picker.owner&&w.picker.owner.hide()},onWindowResize:function(e){w.redrawPosition()},onParentScroll:function(e){w.picker&&w.picker.owner&&w.picker.owner.hide()},_pointerMoveEvent:{mouse:"mousemove",touch:"touchmove"},_pointerEndEvent:{mouse:"mouseup",touch:"touchend"},_pointerOrigin:null,_capturedTarget:null,onControlPointerStart:function(n,o,r,s){var e=o._jscInstance;w.preventDefault(n),w.captureTarget(o);function t(e,t){w.attachGroupEvent("drag",e,w._pointerMoveEvent[s],w.onDocumentPointerMove(n,o,r,s,t)),w.attachGroupEvent("drag",e,w._pointerEndEvent[s],w.onDocumentPointerEnd(n,o,r,s))}var i,l;t(document,[0,0]),window.parent&&window.frameElement&&(l=[-(i=window.frameElement.getBoundingClientRect()).left,-i.top],t(window.parent.window.document,l));var a=w.getAbsPointerPos(n),d=w.getRelPointerPos(n);switch(w._pointerOrigin={x:a.x-d.x,y:a.y-d.y},r){case"pad":switch(w.getSliderComponent(e)){case"s":0===e.hsv[1]&&e.fromHSV(null,100,null);break;case"v":0===e.hsv[2]&&e.fromHSV(null,null,100)}w.setPad(e,n,0,0);break;case"sld":w.setSld(e,n,0)}w.dispatchFineChange(e)},onDocumentPointerMove:function(e,n,o,t,r){return function(e){var t=n._jscInstance;switch(o){case"pad":e=e||window.event,w.setPad(t,e,r[0],r[1]),w.dispatchFineChange(t);break;case"sld":e=e||window.event,w.setSld(t,e,r[1]),w.dispatchFineChange(t)}}},onDocumentPointerEnd:function(e,n,t,o){return function(e){var t=n._jscInstance;w.detachGroupEvents("drag"),w.releaseTarget(),w.dispatchChange(t)}},dispatchChange:function(e){e.valueElement&&w.isElementType(e.valueElement,"input")&&w.fireEvent(e.valueElement,"change")},dispatchFineChange:function(e){e.onFineChange&&("string"==typeof e.onFineChange?new Function(e.onFineChange):e.onFineChange).call(e)},setPad:function(e,t,n,o){var r=w.getAbsPointerPos(t),s=n+r.x-w._pointerOrigin.x-e.padding-e.insetWidth,i=o+r.y-w._pointerOrigin.y-e.padding-e.insetWidth,l=s*(360/(e.width-1)),a=100-i*(100/(e.height-1));switch(w.getPadYComponent(e)){case"s":e.fromHSV(l,a,null,w.leaveSld);break;case"v":e.fromHSV(l,null,a,w.leaveSld)}},setSld:function(e,t,n){var o=100-(n+w.getAbsPointerPos(t).y-w._pointerOrigin.y-e.padding-e.insetWidth)*(100/(e.height-1));switch(w.getSliderComponent(e)){case"s":e.fromHSV(null,o,null,w.leavePad);break;case"v":e.fromHSV(null,null,o,w.leavePad)}},_vmlNS:"jsc_vml_",_vmlCSS:"jsc_vml_css_",_vmlReady:!(r={borderRadius:s(["borderRadius","MozBorderRadius","webkitBorderRadius"]),boxShadow:s(["boxShadow","MozBoxShadow","webkitBoxShadow"])}),initVML:function(){if(!w._vmlReady){var e=document;if(e.namespaces[w._vmlNS]||e.namespaces.add(w._vmlNS,"urn:schemas-microsoft-com:vml"),!e.styleSheets[w._vmlCSS]){var t=["shape","shapetype","group","background","path","formulas","handles","fill","stroke","shadow","textbox","textpath","imagedata","line","polyline","curve","rect","roundrect","oval","arc","image"],n=e.createStyleSheet();n.owningElement.id=w._vmlCSS;for(var o=0;o<t.length;o+=1)n.addRule(w._vmlNS+"\\:"+t[o],"behavior:url(#default#VML);")}w._vmlReady=!0}},createPalette:function(){var s,i,o,r,l,a,d,e,t={elm:null,draw:null};return w.isCanvasSupported?(s=document.createElement("canvas"),i=s.getContext("2d"),e=function(e,t,n){s.width=e,s.height=t,i.clearRect(0,0,s.width,s.height);var o=i.createLinearGradient(0,0,s.width,0);o.addColorStop(0,"#F00"),o.addColorStop(1/6,"#FF0"),o.addColorStop(2/6,"#0F0"),o.addColorStop(.5,"#0FF"),o.addColorStop(4/6,"#00F"),o.addColorStop(5/6,"#F0F"),o.addColorStop(1,"#F00"),i.fillStyle=o,i.fillRect(0,0,s.width,s.height);var r=i.createLinearGradient(0,0,0,s.height);switch(n.toLowerCase()){case"s":r.addColorStop(0,"rgba(255,255,255,0)"),r.addColorStop(1,"rgba(255,255,255,1)");break;case"v":r.addColorStop(0,"rgba(0,0,0,0)"),r.addColorStop(1,"rgba(0,0,0,1)")}i.fillStyle=r,i.fillRect(0,0,s.width,s.height)},t.elm=s):(w.initVML(),(o=document.createElement("div")).style.position="relative",o.style.overflow="hidden",(r=document.createElement(w._vmlNS+":fill")).type="gradient",r.method="linear",r.angle="90",r.colors="16.67% #F0F, 33.33% #00F, 50% #0FF, 66.67% #0F0, 83.33% #FF0",(l=document.createElement(w._vmlNS+":rect")).style.position="absolute",l.style.left="-1px",l.style.top="-1px",l.stroked=!1,l.appendChild(r),o.appendChild(l),(a=document.createElement(w._vmlNS+":fill")).type="gradient",a.method="linear",a.angle="180",a.opacity="0",(d=document.createElement(w._vmlNS+":rect")).style.position="absolute",d.style.left="-1px",d.style.top="-1px",d.stroked=!1,d.appendChild(a),o.appendChild(d),e=function(e,t,n){switch(o.style.width=e+"px",o.style.height=t+"px",l.style.width=d.style.width=e+1+"px",l.style.height=d.style.height=t+1+"px",r.color="#F00",r.color2="#F00",n.toLowerCase()){case"s":a.color=a.color2="#FFF";break;case"v":a.color=a.color2="#000"}},t.elm=o),t.draw=e,t},createSliderGradient:function(){var s,i,r,l,a,e,t={elm:null,draw:null};return w.isCanvasSupported?(s=document.createElement("canvas"),i=s.getContext("2d"),e=function(e,t,n,o){s.width=e,s.height=t,i.clearRect(0,0,s.width,s.height);var r=i.createLinearGradient(0,0,0,s.height);r.addColorStop(0,n),r.addColorStop(1,o),i.fillStyle=r,i.fillRect(0,0,s.width,s.height)},t.elm=s):(w.initVML(),(r=document.createElement("div")).style.position="relative",r.style.overflow="hidden",(l=document.createElement(w._vmlNS+":fill")).type="gradient",l.method="linear",l.angle="180",(a=document.createElement(w._vmlNS+":rect")).style.position="absolute",a.style.left="-1px",a.style.top="-1px",a.stroked=!1,a.appendChild(l),r.appendChild(a),e=function(e,t,n,o){r.style.width=e+"px",r.style.height=t+"px",a.style.width=e+1+"px",a.style.height=t+1+"px",l.color=n,l.color2=o},t.elm=r),t.draw=e,t},leaveValue:1,leaveStyle:2,leavePad:4,leaveSld:8,BoxShadow:(o.prototype.toString=function(){var e=[Math.round(this.hShadow)+"px",Math.round(this.vShadow)+"px",Math.round(this.blur)+"px",Math.round(this.spread)+"px",this.color];return this.inset&&e.push("inset"),e.join(" ")},o),jscolor:function(e,t){if(this.value=null,this.valueElement=e,this.styleElement=e,this.required=!0,this.refine=!0,this.hash=!1,this.uppercase=!0,this.onFineChange=null,this.activeClass="jscolor-active",this.overwriteImportant=!1,this.minS=0,this.maxS=100,this.minV=0,this.maxV=100,this.hsv=[0,0,100],this.rgb=[255,255,255],this.width=181,this.height=101,this.showOnClick=!0,this.mode="HSV",this.position="bottom",this.smartPosition=!0,this.sliderSize=16,this.crossSize=8,this.closable=!1,this.closeText="Close",this.buttonColor="#000000",this.buttonHeight=18,this.padding=12,this.backgroundColor="#FFFFFF",this.borderWidth=1,this.borderColor="#BBBBBB",this.borderRadius=8,this.insetWidth=1,this.insetColor="#BBBBBB",this.shadow=!0,this.shadowBlur=15,this.shadowColor="rgba(0,0,0,0.2)",this.pointerColor="#4C4C4C",this.pointerBorderColor="#FFFFFF",this.pointerBorderWidth=1,this.pointerThickness=2,this.zIndex=1e3,this.container=null,w.jscolor.options)for(var n in w.jscolor.options)w.jscolor.options.hasOwnProperty(n)&&w.setOption.call(this,n,w.jscolor.options[n]);var o=[];t.preset&&("string"==typeof t.preset?o=t.preset.split(/\s+/):Array.isArray(t.preset)?o=t.preset.slice():w.warn("Unrecognized preset value")),o.push("default");for(var r=o.length-1;0<=r;--r){var s=o[r];if(s)if(w.jscolor.presets.hasOwnProperty(s))for(var n in w.jscolor.presets[s])w.jscolor.presets[s].hasOwnProperty(n)&&w.setOption.call(this,n,w.jscolor.presets[s][n]);else w.warn("Unknown preset '"+s+"'")}var i,l,c,a,d,h,p,u=["preset"];for(var n in t)t.hasOwnProperty(n)&&-1===u.indexOf(n)&&w.setOption.call(this,n,t[n]);function m(e,t,n){var o=n/100*255;if(null===e)return[o,o,o];e/=60,t/=100;var r=Math.floor(e),s=o*(1-t),i=o*(1-t*(r%2?e-r:1-(e-r)));switch(r){case 6:case 0:return[o,i,s];case 1:return[i,o,s];case 2:return[s,o,i];case 3:return[s,i,o];case 4:return[i,s,o];case 5:return[o,s,i]}}function g(){c._processParentElementsInDOM(),w.picker||(w.picker={owner:null,wrap:document.createElement("div"),box:document.createElement("div"),boxS:document.createElement("div"),boxB:document.createElement("div"),pad:document.createElement("div"),padB:document.createElement("div"),padM:document.createElement("div"),padPal:w.createPalette(),cross:document.createElement("div"),crossBY:document.createElement("div"),crossBX:document.createElement("div"),crossLY:document.createElement("div"),crossLX:document.createElement("div"),sld:document.createElement("div"),sldB:document.createElement("div"),sldM:document.createElement("div"),sldGrad:w.createSliderGradient(),sldPtrS:document.createElement("div"),sldPtrIB:document.createElement("div"),sldPtrMB:document.createElement("div"),sldPtrOB:document.createElement("div"),btn:document.createElement("div"),btnT:document.createElement("span")},w.picker.pad.appendChild(w.picker.padPal.elm),w.picker.padB.appendChild(w.picker.pad),w.picker.cross.appendChild(w.picker.crossBY),w.picker.cross.appendChild(w.picker.crossBX),w.picker.cross.appendChild(w.picker.crossLY),w.picker.cross.appendChild(w.picker.crossLX),w.picker.padB.appendChild(w.picker.cross),w.picker.box.appendChild(w.picker.padB),w.picker.box.appendChild(w.picker.padM),w.picker.sld.appendChild(w.picker.sldGrad.elm),w.picker.sldB.appendChild(w.picker.sld),w.picker.sldB.appendChild(w.picker.sldPtrOB),w.picker.sldPtrOB.appendChild(w.picker.sldPtrMB),w.picker.sldPtrMB.appendChild(w.picker.sldPtrIB),w.picker.sldPtrIB.appendChild(w.picker.sldPtrS),w.picker.box.appendChild(w.picker.sldB),w.picker.box.appendChild(w.picker.sldM),w.picker.btn.appendChild(w.picker.btnT),w.picker.box.appendChild(w.picker.btn),w.picker.boxB.appendChild(w.picker.box),w.picker.wrap.appendChild(w.picker.boxS),w.picker.wrap.appendChild(w.picker.boxB));var e,t,n=w.picker,o=!!w.getSliderComponent(c),r=w.getPickerDims(c),s=2*c.pointerBorderWidth+c.pointerThickness+2*c.crossSize,i=w.getPadToSliderPadding(c),l=Math.min(c.borderRadius,Math.round(c.padding*Math.PI));n.wrap.className="jscolor-picker-wrap",n.wrap.style.clear="both",n.wrap.style.width=r[0]+2*c.borderWidth+"px",n.wrap.style.height=r[1]+2*c.borderWidth+"px",n.wrap.style.zIndex=c.zIndex,n.box.className="jscolor-picker",n.box.style.width=r[0]+"px",n.box.style.height=r[1]+"px",n.boxS.className="jscolor-picker-shadow",n.boxS.style.position="absolute",n.boxS.style.left="0",n.boxS.style.top="0",n.boxS.style.width="100%",n.boxS.style.height="100%",w.setBorderRadius(n.boxS,l+"px"),n.boxB.className="jscolor-picker-border",n.boxB.style.position="relative",n.boxB.style.border=c.borderWidth+"px solid",n.boxB.style.borderColor=c.borderColor,n.boxB.style.background=c.backgroundColor,w.setBorderRadius(n.boxB,l+"px"),n.padM.style.background=n.sldM.style.background="#FFF",w.setStyle(n.padM,"opacity","0"),w.setStyle(n.sldM,"opacity","0"),n.pad.style.position="relative",n.pad.style.width=c.width+"px",n.pad.style.height=c.height+"px",n.padPal.draw(c.width,c.height,w.getPadYComponent(c)),n.padB.style.position="absolute",n.padB.style.left=c.padding+"px",n.padB.style.top=c.padding+"px",n.padB.style.border=c.insetWidth+"px solid",n.padB.style.borderColor=c.insetColor,n.padM._jscInstance=c,n.padM._jscControlName="pad",n.padM.style.position="absolute",n.padM.style.left="0",n.padM.style.top="0",n.padM.style.width=c.padding+2*c.insetWidth+c.width+i/2+"px",n.padM.style.height=r[1]+"px",n.padM.style.cursor="crosshair",n.cross.style.position="absolute",n.cross.style.left=n.cross.style.top="0",n.cross.style.width=n.cross.style.height=s+"px",n.crossBY.style.position=n.crossBX.style.position="absolute",n.crossBY.style.background=n.crossBX.style.background=c.pointerBorderColor,n.crossBY.style.width=n.crossBX.style.height=2*c.pointerBorderWidth+c.pointerThickness+"px",n.crossBY.style.height=n.crossBX.style.width=s+"px",n.crossBY.style.left=n.crossBX.style.top=Math.floor(s/2)-Math.floor(c.pointerThickness/2)-c.pointerBorderWidth+"px",n.crossBY.style.top=n.crossBX.style.left="0",n.crossLY.style.position=n.crossLX.style.position="absolute",n.crossLY.style.background=n.crossLX.style.background=c.pointerColor,n.crossLY.style.height=n.crossLX.style.width=s-2*c.pointerBorderWidth+"px",n.crossLY.style.width=n.crossLX.style.height=c.pointerThickness+"px",n.crossLY.style.left=n.crossLX.style.top=Math.floor(s/2)-Math.floor(c.pointerThickness/2)+"px",n.crossLY.style.top=n.crossLX.style.left=c.pointerBorderWidth+"px",n.sld.style.overflow="hidden",n.sld.style.width=c.sliderSize+"px",n.sld.style.height=c.height+"px",n.sldGrad.draw(c.sliderSize,c.height,"#000","#000"),n.sldB.style.display=o?"block":"none",n.sldB.style.position="absolute",n.sldB.style.right=c.padding+"px",n.sldB.style.top=c.padding+"px",n.sldB.style.border=c.insetWidth+"px solid",n.sldB.style.borderColor=c.insetColor,n.sldM._jscInstance=c,n.sldM._jscControlName="sld",n.sldM.style.display=o?"block":"none",n.sldM.style.position="absolute",n.sldM.style.right="0",n.sldM.style.top="0",n.sldM.style.width=c.sliderSize+i/2+c.padding+2*c.insetWidth+"px",n.sldM.style.height=r[1]+"px",n.sldM.style.cursor="default",n.sldPtrIB.style.border=n.sldPtrOB.style.border=c.pointerBorderWidth+"px solid "+c.pointerBorderColor,n.sldPtrOB.style.position="absolute",n.sldPtrOB.style.left=-(2*c.pointerBorderWidth+c.pointerThickness)+"px",n.sldPtrOB.style.top="0",n.sldPtrMB.style.border=c.pointerThickness+"px solid "+c.pointerColor,n.sldPtrS.style.width=c.sliderSize+"px",n.sldPtrS.style.height=d+"px",n.btn.className="jscolor-btn-close",n.btn.style.display=c.closable?"block":"none",n.btn.style.position="absolute",n.btn.style.left=c.padding+"px",n.btn.style.bottom=c.padding+"px",n.btn.style.padding="0 15px",n.btn.style.height=c.buttonHeight+"px",n.btn.style.border=c.insetWidth+"px solid",e=c.insetColor.split(/\s+/),t=e.length<2?e[0]:e[1]+" "+e[0]+" "+e[0]+" "+e[1],n.btn.style.borderColor=t,n.btn.style.color=c.buttonColor,n.btn.style.font="12px sans-serif",n.btn.style.textAlign="center";try{n.btn.style.cursor="pointer"}catch(e){n.btn.style.cursor="hand"}n.btn.onmousedown=function(){c.hide()},n.btnT.style.lineHeight=c.buttonHeight+"px",n.btnT.innerHTML="",n.btnT.appendChild(document.createTextNode(c.closeText)),v(),y(),w.picker.owner&&w.picker.owner!==c&&w.unsetClass(w.picker.owner.targetElement,c.activeClass),w.picker.owner=c,w.isElementType(a,"body")?w.redrawPosition():w._drawPosition(c,0,0,"relative",!1),n.wrap.parentNode!=a&&a.appendChild(n.wrap),w.setClass(c.targetElement,c.activeClass)}function v(){switch(w.getPadYComponent(c)){case"s":var e=1;break;case"v":e=2}var t=Math.round(c.hsv[0]/360*(c.width-1)),n=Math.round((1-c.hsv[e]/100)*(c.height-1)),o=2*c.pointerBorderWidth+c.pointerThickness+2*c.crossSize,r=-Math.floor(o/2);switch(w.picker.cross.style.left=t+r+"px",w.picker.cross.style.top=n+r+"px",w.getSliderComponent(c)){case"s":var s=m(c.hsv[0],100,c.hsv[2]),i=m(c.hsv[0],0,c.hsv[2]),l="rgb("+Math.round(s[0])+","+Math.round(s[1])+","+Math.round(s[2])+")",a="rgb("+Math.round(i[0])+","+Math.round(i[1])+","+Math.round(i[2])+")";w.picker.sldGrad.draw(c.sliderSize,c.height,l,a);break;case"v":var d=m(c.hsv[0],c.hsv[1],100),l="rgb("+Math.round(d[0])+","+Math.round(d[1])+","+Math.round(d[2])+")",a="#000";w.picker.sldGrad.draw(c.sliderSize,c.height,l,a)}}function y(){var e=w.getSliderComponent(c);if(e){switch(e){case"s":var t=1;break;case"v":t=2}var n=Math.round((1-c.hsv[t]/100)*(c.height-1));w.picker.sldPtrOB.style.top=n-(2*c.pointerBorderWidth+c.pointerThickness)-Math.floor(d/2)+"px"}}function f(){return w.picker&&w.picker.owner===c}this.hide=function(){f()&&(w.unsetClass(c.targetElement,c.activeClass),w.picker.wrap.parentNode.removeChild(w.picker.wrap),delete w.picker.owner)},this.show=function(){g()},this.redraw=function(){f()&&g()},this.importColor=function(){this.valueElement&&w.isElementType(this.valueElement,"input")?this.refine?!this.required&&/^\s*$/.test(this.valueElement.value)?(this.valueElement.value="",this.styleElement&&(this.styleElement.style.backgroundImage=this.styleElement._jscOrigStyle.backgroundImage,this.styleElement.style.backgroundColor=this.styleElement._jscOrigStyle.backgroundColor,this.styleElement.style.color=this.styleElement._jscOrigStyle.color),this.exportColor(w.leaveValue|w.leaveStyle)):this.fromString(this.valueElement.value)||this.exportColor():this.fromString(this.valueElement.value,w.leaveValue)||(this.styleElement&&(this.styleElement.style.backgroundImage=this.styleElement._jscOrigStyle.backgroundImage,this.styleElement.style.backgroundColor=this.styleElement._jscOrigStyle.backgroundColor,this.styleElement.style.color=this.styleElement._jscOrigStyle.color),this.exportColor(w.leaveValue|w.leaveStyle)):this.exportColor()},this.exportColor=function(e){var t,n,o;e&w.leaveValue||!this.valueElement||(t=this.toString(),this.uppercase&&(t=t.toUpperCase()),this.hash&&(t="#"+t),w.isElementType(this.valueElement,"input")?this.valueElement.value!==t&&(this.valueElement.value=t):this.valueElement.innerHTML=t),e&w.leaveStyle||this.styleElement&&(n="#"+this.toString(),o=this.isLight()?"#000":"#FFF",this.styleElement.style.backgroundImage="none",this.styleElement.style.backgroundColor=n,this.styleElement.style.color=o,this.overwriteImportant&&this.styleElement.setAttribute("style","background: "+n+" !important; color: "+o+" !important;")),e&w.leavePad||!f()||v(),e&w.leaveSld||!f()||y()},this.fromHSV=function(e,t,n,o){if(null!==e){if(isNaN(e))return!1;e=Math.max(0,Math.min(360,e))}if(null!==t){if(isNaN(t))return!1;t=Math.max(0,Math.min(100,this.maxS,t),this.minS)}if(null!==n){if(isNaN(n))return!1;n=Math.max(0,Math.min(100,this.maxV,n),this.minV)}this.rgb=m(null===e?this.hsv[0]:this.hsv[0]=e,null===t?this.hsv[1]:this.hsv[1]=t,null===n?this.hsv[2]:this.hsv[2]=n),this.exportColor(o)},this.fromRGB=function(e,t,n,o){if(null!==e){if(isNaN(e))return!1;e=Math.max(0,Math.min(255,e))}if(null!==t){if(isNaN(t))return!1;t=Math.max(0,Math.min(255,t))}if(null!==n){if(isNaN(n))return!1;n=Math.max(0,Math.min(255,n))}var r=function(e,t,n){e/=255,t/=255,n/=255;var o=Math.min(Math.min(e,t),n),r=Math.max(Math.max(e,t),n),s=r-o;if(0==s)return[null,0,100*r];var i=e===o?3+(n-t)/s:t===o?5+(e-n)/s:1+(t-e)/s;return[60*(6==i?0:i),s/r*100,100*r]}(null===e?this.rgb[0]:e,null===t?this.rgb[1]:t,null===n?this.rgb[2]:n);null!==r[0]&&(this.hsv[0]=Math.max(0,Math.min(360,r[0]))),0!==r[2]&&(this.hsv[1]=null===r[1]?null:Math.max(0,this.minS,Math.min(100,this.maxS,r[1]))),this.hsv[2]=null===r[2]?null:Math.max(0,this.minV,Math.min(100,this.maxV,r[2]));var s=m(this.hsv[0],this.hsv[1],this.hsv[2]);this.rgb[0]=s[0],this.rgb[1]=s[1],this.rgb[2]=s[2],this.exportColor(o)},this.fromString=function(e,t){var n;if(n=e.match(/^\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i))return 6===n[1].length?this.fromRGB(parseInt(n[1].substr(0,2),16),parseInt(n[1].substr(2,2),16),parseInt(n[1].substr(4,2),16),t):this.fromRGB(parseInt(n[1].charAt(0)+n[1].charAt(0),16),parseInt(n[1].charAt(1)+n[1].charAt(1),16),parseInt(n[1].charAt(2)+n[1].charAt(2),16),t),!0;if(n=e.match(/^\W*rgba?\(([^)]*)\)\W*$/i)){var o,r,s,i=n[1].split(","),l=/^\s*(\d*)(\.\d+)?\s*$/;if(3<=i.length&&(o=i[0].match(l))&&(r=i[1].match(l))&&(s=i[2].match(l))){var a=parseFloat((o[1]||"0")+(o[2]||"")),d=parseFloat((r[1]||"0")+(r[2]||"")),c=parseFloat((s[1]||"0")+(s[2]||""));return this.fromRGB(a,d,c,t),!0}}return!1},this.toString=function(){return(256|Math.round(this.rgb[0])).toString(16).substr(1)+(256|Math.round(this.rgb[1])).toString(16).substr(1)+(256|Math.round(this.rgb[2])).toString(16).substr(1)},this.toHEXString=function(){return"#"+this.toString().toUpperCase()},this.toRGBString=function(){return"rgb("+Math.round(this.rgb[0])+","+Math.round(this.rgb[1])+","+Math.round(this.rgb[2])+")"},this.toGrayscale=function(){return.213*this.rgb[0]+.715*this.rgb[1]+.072*this.rgb[2]},this.isLight=function(){return 127.5<this.toGrayscale()},this._processParentElementsInDOM=function(){if(!this._linkedElementsProcessed){this._linkedElementsProcessed=!0;var e=this.targetElement;do{var t=w.getStyle(e);t&&"fixed"===t.position.toLowerCase()&&(this.fixed=!0),e!==this.targetElement&&(e._jscEventsAttached||(w.attachEvent(e,"scroll",w.onParentScroll),e._jscEventsAttached=!0))}while((e=e.parentNode)&&!w.isElementType(e,"body"))}},"string"==typeof e?(i=e,(l=document.getElementById(i))?this.targetElement=l:w.warn("Could not find target element with ID '"+i+"'")):e?this.targetElement=e:w.warn("Invalid target element: '"+e+"'"),this.targetElement._jscLinkedInstance?w.warn("Cannot link jscolor twice to the same element. Skipping."):((this.targetElement._jscLinkedInstance=this).valueElement=w.fetchElement(this.valueElement),this.styleElement=w.fetchElement(this.styleElement),a=(c=this).container?w.fetchElement(this.container):document.getElementsByTagName("body")[0],d=3,w.isElementType(this.targetElement,"button")&&(this.targetElement.onclick?(h=this.targetElement.onclick,this.targetElement.onclick=function(e){return h.call(this,e),!1}):this.targetElement.onclick=function(){return!1}),this.valueElement&&w.isElementType(this.valueElement,"input")&&(p=function(){c.fromString(c.valueElement.value,w.leaveValue),w.dispatchFineChange(c)},w.attachEvent(this.valueElement,"keyup",p),w.attachEvent(this.valueElement,"input",p),w.attachEvent(this.valueElement,"blur",function(){c.importColor()}),this.valueElement.setAttribute("autocomplete","off")),this.styleElement&&(this.styleElement._jscOrigStyle={backgroundImage:this.styleElement.style.backgroundImage,backgroundColor:this.styleElement.style.backgroundColor,color:this.styleElement.style.color}),this.value?this.fromString(this.value)||this.exportColor():this.importColor())}};function o(e,t,n,o,r,s){this.hShadow=e,this.vShadow=t,this.blur=n,this.spread=o,this.color=r,this.inset=!!s}function s(e){for(var t=0;t<e.length;t+=1)if(e[t]in n.style)return e[t]}return w.jscolor.init=function(){w.jscolor.lookupClass&&w.jscolor.installByClassName(w.jscolor.lookupClass)},w.jscolor.presets={},w.jscolor.presets.default={},w.jscolor.presets.light={backgroundColor:"#FFFFFF",insetColor:"#BBBBBB"},w.jscolor.presets.dark={backgroundColor:"#333333",insetColor:"#999999"},w.jscolor.presets.small={width:101,height:101},w.jscolor.presets.medium={width:181,height:101},w.jscolor.presets.large={width:271,height:151},w.jscolor.presets.thin={borderWidth:1,insetWidth:1,pointerBorderWidth:1},w.jscolor.presets.thick={borderWidth:2,insetWidth:2,pointerBorderWidth:2},w.jscolor.options={},w.jscolor.lookupClass="jscolor",w.jscolor.installByClassName=function(e){var t=document.getElementsByTagName("input"),n=document.getElementsByTagName("button");w.tryInstallOnElements(t,e),w.tryInstallOnElements(n,e)},w.register(),w.jscolor}(),window.JSColor=window.jscolor);